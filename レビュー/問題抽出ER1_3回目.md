# ER図1
## 全体
- 配送先を保存するためのテーブルが記載されていない。
    >課題要件には「登録住所以外にも配送できること」と書いてあります。配送先を独立して管理を行い、一つのユーザーに対して複数の配送先を選択できるようにしましょう。
- 入荷テーブルが記載されていない。
    >今回は在庫個数の管理を入荷した履歴と購入した履歴を参照して管理することになっています。商品を入荷したという記録ができるよう、専用のテーブルを作ってあげましょう。
- 受注明細のテーブルが存在しない。
    >今の状態だと、「誰が受注した」「どこに配送するか」といった情報は記録できていますが、「何を購入したか」という情報は保存できていません。これらが保存できるよう、追加してあげましょう。
- id,created_atといった自動で追加されるカラムも、記載する必要があります。
## 管理人
- ユーザー、商品との不必要なリレーション
    >本当に必要でしょうか？再考しましょう。
## ユーザーテーブル
- ユーザーテーブルと決済テーブルの間のリレーションが不適切
    >カーディナリティの設定（1:Nなど）に問題があります。もう一度、考えてみましょう。
- 退会（論理削除）したかを示すカラムが存在しない。
    >直接消してしまうと、関連するデータも参照できなくなってしまいます。上記カラムを追加し、論理削除を行えるようにしましょう。
## 商品テーブル
- 商品テーブルとカートテーブルの間のリレーションの書き方が不適切。
    >上記指摘と同様です。考え直しましょう。
- アーティスト、レーベル、ジャンルは親テーブルとの関連付けで管理すべき
    >繰り返し記述していくと、誤字脱字によるミスにより、検索時にヒットしなくなる恐れがあります。IDによる参照でこれらは防止することができます。FKに置き換えましょう。
- 曲名は専用のテーブルを作り、そこと関連付けて管理しましょう。
    >今のままだと1曲しかは入らず、アルバムごとの曲の変動に対応できません。1:Nの関係について思い出しましょう。
- ステータスは何を示しているのでしょうか？
    >定義が曖昧で伝わりにくいです。具体的に記述しましょう。
- 削除済みかを示すカラムが存在しません。
    >決済など他のテーブルに影響を及ぼすため、商品そのものを消すことは出来ません。
- 在庫数カラムは不必要。
    >入荷テーブルの履歴から算出するため、必要ありません。
## 決済テーブル
- カートテーブルとのFKが不適切（カートが複数あるため）
- テーブル名は今の名称で適切でしょうか？
    >管理者側の命名を行いましょう。
- 送料、送付先郵便番号、送付先氏名を保存するカラムが必要です。


## 購入履歴テーブル
- 主キーの記載がない
    > 主キーはすべてのテーブルにおいて必要となります
- 合計金額や購入枚数を保存するカラムがありません。
## カートテーブル
- 主キーの命名が不適切
    >主キーは「注文ID」で大丈夫でしょうか？
- 決済間のリレーションの書き方が違います。
    >一つのカートに対して複数の決済テーブルが結びつく状態になっています。
- ジャケット画像、アルバム名、アーテイスト名、合計金額、いずれも他テーブルから取得が可能な情報です。必要ありません。
- 今の状態だとカートの所持者が誰なのか分かりません。

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。
## 全体

## 共通



# 指摘事項

## 決済テーブル
テーブル名は今の名称で適切でしょうか？
管理者側の命名を行いましょう。
 -管理者側の命名とはどのような意味がもう少し詳しく書いてみてもいいと思います。

